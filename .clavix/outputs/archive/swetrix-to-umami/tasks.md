# Implementation Plan: Replace Swetrix with Umami Analytics

**Project**: swetrix-to-umami-migration
**Generated**: 2026-01-25T20:47:00Z

## Technical Context & Standards

- **Architecture**: Next.js 16 App Router
- **Current Analytics**: Swetrix (`src/components/analytics.tsx`)
- **Target Analytics**: Umami (self-hosted)
- **Script Loading**: `next/script` with `afterInteractive` strategy
- **Conventions**: Component-based analytics wrapper

---

## Phase 1: Update Analytics Component

- [x] **Replace Swetrix with Umami in analytics.tsx**
  Task ID: `phase-1-analytics-01`
  > **Implementation**: Edit `src/components/analytics.tsx`
  > **Details**: 
  > - Remove Swetrix script (`https://swetrix.org/swetrix.js`)
  > - Remove Swetrix `onLoad` initialization (`window.swetrix?.init`, `window.swetrix?.trackViews`)
  > - Remove `noscript` tracking pixel for Swetrix
  > - Add Umami script: `http://umami-w8swgckkgosssco00k0go4g8.188.245.241.135.sslip.io/script.js`
  > - Add `data-website-id="2e966abd-99fc-4363-8007-3737d99bc4c1"` attribute
  > - Use `next/script` with `strategy="afterInteractive"`
  > - Umami auto-tracks page views, no `onLoad` callback needed

---

## Phase 2: Update Layout Comment

- [x] **Update comment in layout.tsx**
  Task ID: `phase-2-layout-01`
  > **Implementation**: Edit `src/app/layout.tsx` line 119
  > **Details**: 
  > - Change comment from `{/* Swetrix Analytics */}` to `{/* Umami Analytics */}`
  > - No other changes needed - component import and usage remain the same

---

## Phase 3: Verification

- [x] **Verify build passes**
  Task ID: `phase-3-verify-01`
  > **Implementation**: Run `npm run build`
  > **Details**: Ensure no TypeScript errors or build failures

- [x] **Verify lint passes**
  Task ID: `phase-3-verify-02`
  > **Implementation**: Run `npm run lint`
  > **Details**: Ensure no new lint warnings introduced

---

*Generated by Clavix /clavix-implement*
