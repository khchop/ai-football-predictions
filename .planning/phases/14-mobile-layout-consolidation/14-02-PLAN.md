---
phase: 14-mobile-layout-consolidation
plan: 02
type: execute
wave: 2
depends_on: ["14-01"]
files_modified:
  - src/components/match/match-tabs-mobile.tsx
  - src/components/match/tab-content/summary-tab.tsx
  - src/components/match/tab-content/stats-tab.tsx
  - src/components/match/tab-content/predictions-tab.tsx
  - src/components/match/tab-content/analysis-tab.tsx
autonomous: true

must_haves:
  truths:
    - "User can tap tabs to switch between Summary/Stats/Predictions/Analysis (MOBL-04)"
    - "User can swipe left/right to navigate between tabs on mobile (MOBL-05)"
    - "Tab triggers have 44x44px minimum touch targets (MOBL-06)"
  artifacts:
    - path: "src/components/match/match-tabs-mobile.tsx"
      provides: "Tabbed navigation with swipe gesture support"
      exports: ["MatchTabsMobile"]
    - path: "src/components/match/tab-content/summary-tab.tsx"
      provides: "Summary tab content wrapper"
      exports: ["SummaryTab"]
    - path: "src/components/match/tab-content/stats-tab.tsx"
      provides: "Stats tab with progressive disclosure"
      exports: ["StatsTab"]
    - path: "src/components/match/tab-content/predictions-tab.tsx"
      provides: "Predictions tab content wrapper"
      exports: ["PredictionsTab"]
    - path: "src/components/match/tab-content/analysis-tab.tsx"
      provides: "Analysis tab content wrapper"
      exports: ["AnalysisTab"]
  key_links:
    - from: "src/components/match/match-tabs-mobile.tsx"
      to: "react-swipeable"
      via: "useSwipeable hook"
      pattern: "useSwipeable"
    - from: "src/components/match/match-tabs-mobile.tsx"
      to: "@radix-ui/react-tabs"
      via: "controlled tabs"
      pattern: "Tabs.*value.*onValueChange"
---

<objective>
Create tabbed navigation system with swipe gesture support for mobile match pages.

Purpose: Transform vertical scrolling layout into tabbed interface that reduces cognitive load and enables quick navigation between match sections. Swipe gestures provide natural mobile interaction pattern.

Output: MatchTabsMobile component and four tab content wrappers ready for integration.
</objective>

<execution_context>
@/Users/pieterbos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/pieterbos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/14-mobile-layout-consolidation/14-RESEARCH.md
@.planning/phases/14-mobile-layout-consolidation/14-01-SUMMARY.md

# Existing components to wrap/integrate
@src/components/match/MatchStats.tsx
@src/components/match/MatchContent.tsx
@src/components/match/roundup-viewer.tsx
@src/components/prediction-table.tsx
@src/components/ui/tabs.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MatchTabsMobile with swipe gestures</name>
  <files>src/components/match/match-tabs-mobile.tsx</files>
  <action>
Create the main tabbed navigation component integrating Radix UI Tabs with react-swipeable.

Key implementation details:
1. 'use client' directive (useState + useSwipeable hooks)
2. Controlled Tabs with useState for activeTab
3. useSwipeable hook configuration:
   - onSwipedLeft: advance to next tab (if not last)
   - onSwipedRight: go to previous tab (if not first)
   - preventScrollOnSwipe: true
   - trackMouse: false (touch only)
   - delta: 50 (minimum swipe distance)
4. Tab order: ['summary', 'stats', 'predictions', 'analysis']
5. TabsList: grid grid-cols-4 with min-h-[44px] triggers (MOBL-06)
6. Apply swipe handlers to content container div

Props interface:
```typescript
interface MatchTabsMobileProps {
  children: {
    summary: React.ReactNode;
    stats: React.ReactNode;
    predictions: React.ReactNode;
    analysis: React.ReactNode;
  };
  defaultTab?: 'summary' | 'stats' | 'predictions' | 'analysis';
}
```

Import Tabs, TabsList, TabsTrigger, TabsContent from @/components/ui/tabs.
Import useSwipeable from react-swipeable.
  </action>
  <verify>
Run `npx tsc --noEmit` to verify TypeScript compilation.
Verify 'use client' directive present.
Verify useSwipeable import from react-swipeable.
  </verify>
  <done>
MatchTabsMobile component exists with:
- Controlled tab state
- Swipe gesture handlers integrated
- 4-column tab grid with 44px min height triggers
- Content area with swipe handlers attached
  </done>
</task>

<task type="auto">
  <name>Task 2: Create tab content wrapper components</name>
  <files>
src/components/match/tab-content/summary-tab.tsx
src/components/match/tab-content/stats-tab.tsx
src/components/match/tab-content/predictions-tab.tsx
src/components/match/tab-content/analysis-tab.tsx
  </files>
  <action>
Create four tab content wrapper components. These are thin wrappers that compose existing components with mobile-appropriate layout.

**SummaryTab** (summary-tab.tsx):
- Server component (no 'use client')
- Props: match, competition, isLive, isFinished, matchEvents
- Renders: Match info card (venue, date, competition), Match events (if any)
- Layout: space-y-4

**StatsTab** (stats-tab.tsx):
- Server component
- Props: analysis, homeStanding, awayStanding, homeTeam, awayTeam
- Renders: MatchStats component
- On mobile (md:hidden): Wrap H2H section in CollapsibleSection with title "Head-to-Head History"
- On desktop: Show all sections normally

**PredictionsTab** (predictions-tab.tsx):
- Server component
- Props: predictions, homeTeam, awayTeam, isFinished
- Renders: PredictionTable component
- Consolidates predictions display (MOBL-02)
- No duplicate of roundup predictions here

**AnalysisTab** (analysis-tab.tsx):
- Server component
- Props: matchId, matchStatus, roundup (optional)
- Renders: MatchContentSection for AI narratives
- If roundup exists AND isFinished: render RoundupViewer narrative section only (not scoreboard/stats - those are in Summary/Stats tabs)

All components:
- Import cn from @/lib/utils
- Use consistent padding/spacing
- Export named function matching filename
  </action>
  <verify>
Run `npx tsc --noEmit` to verify all four components compile.
Verify each file has a named export.
Verify StatsTab imports CollapsibleSection from parent directory.
  </verify>
  <done>
Four tab content components exist:
- SummaryTab: match info + events
- StatsTab: MatchStats with progressive disclosure on mobile
- PredictionsTab: consolidated PredictionTable
- AnalysisTab: AI content + roundup narrative
  </done>
</task>

</tasks>

<verification>
Tab system ready for integration:
1. `src/components/match/match-tabs-mobile.tsx` exports MatchTabsMobile
2. All four tab content components in `src/components/match/tab-content/` directory
3. `npm run build` completes without errors
4. StatsTab uses CollapsibleSection for H2H on mobile
</verification>

<success_criteria>
- MatchTabsMobile integrates Radix Tabs with useSwipeable
- Tab triggers have 44px minimum height
- Four tab content wrappers compose existing components
- StatsTab implements progressive disclosure for H2H section
- All components pass TypeScript compilation
</success_criteria>

<output>
After completion, create `.planning/phases/14-mobile-layout-consolidation/14-02-SUMMARY.md`
</output>
