---
phase: 04-ux-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/prediction-table.tsx
autonomous: true

must_haves:
  truths:
    - "Prediction cards display correctly on mobile without horizontal scrolling"
    - "Mobile card shows model name, provider, predicted score, and points"
    - "Desktop view maintains existing horizontal layout"
  artifacts:
    - path: "src/components/prediction-table.tsx"
      provides: "Mobile-responsive prediction display"
      contains: "md:hidden"
  key_links:
    - from: "src/components/prediction-table.tsx"
      to: "src/components/match/predictions-section.tsx"
      via: "PredictionTable component import"
      pattern: "PredictionTable"
---

<objective>
Add mobile-responsive card layout to PredictionTable component, following the established pattern from LeaderboardTable.

Purpose: Satisfy UIUX-03 - prediction cards must display correctly on mobile without horizontal scrolling
Output: Updated PredictionTable with stacked card layout on mobile (md:hidden) and preserved desktop layout (hidden md:block)
</objective>

<execution_context>
@/Users/pieterbos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/pieterbos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-ux-polish/04-RESEARCH.md

# Reference implementations
@src/components/leaderboard-table.tsx (lines 361-465 for MobileCard pattern)
@src/components/prediction-table.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add mobile card layout to PredictionTable</name>
  <files>src/components/prediction-table.tsx</files>
  <action>
Refactor PredictionTable to use the same responsive pattern as LeaderboardTable:

1. Create a MobilePredictionCard component inside the file:
   - Takes prediction, homeTeam, awayTeam, isFinished, index props
   - Shows model name + provider in header row
   - Shows predicted score centered (homeTeam score - awayTeam score)
   - Shows points badge (if finished) in top-right corner
   - Uses same color coding for exact/correct/wrong predictions
   - Card has rounded-lg, border, p-4 styling

2. Wrap the existing flex/row layout in:
   ```tsx
   {/* Desktop View */}
   <div className="hidden md:block space-y-3">
     {sortedPredictions.map((prediction, index) => (
       // ... existing row layout ...
     ))}
   </div>
   ```

3. Add mobile view after desktop view:
   ```tsx
   {/* Mobile Card View */}
   <div className="md:hidden space-y-3">
     {sortedPredictions.map((prediction, index) => (
       <MobilePredictionCard
         key={prediction.id}
         prediction={prediction}
         homeTeam={homeTeam}
         awayTeam={awayTeam}
         isFinished={isFinished}
         index={index}
       />
     ))}
   </div>
   ```

4. Mobile card structure (follow research code example):
   - Header: model name (truncate) + points badge (if finished)
   - Body: score display with team names above (centered, flex-1 for each side)
   - Use min-w-0 and truncate on text to prevent overflow
   - Same conditional styling (bg-green-500/5 for exact, bg-yellow-500/5 for correct)
  </action>
  <verify>
    1. `npm run build` completes without TypeScript errors
    2. Run dev server, open `/matches/{any-finished-match-id}` in browser
    3. Use Chrome DevTools device toolbar, switch to iPhone SE (375px)
    4. Predictions should display as stacked cards without horizontal scroll
  </verify>
  <done>
    - PredictionTable renders mobile card view on screens < 768px (md breakpoint)
    - No horizontal scrollbar on mobile viewport
    - Model name, score prediction, and points visible on mobile cards
    - Desktop view unchanged (still horizontal rows)
  </done>
</task>

</tasks>

<verification>
1. Build passes: `npm run build` exits 0
2. Manual mobile test: Chrome DevTools -> iPhone SE (375px) -> visit /matches/[finished-match-id]
3. Visual check: No horizontal scrollbar, all prediction info visible in card format
4. Desktop unchanged: Resize to 1024px+ -> horizontal row layout still works
</verification>

<success_criteria>
- [ ] PredictionTable has `hidden md:block` wrapper around desktop layout
- [ ] PredictionTable has `md:hidden` mobile card view
- [ ] Mobile cards show: model name, provider, predicted score, points (if finished)
- [ ] No horizontal scroll on 375px viewport width
- [ ] Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/04-ux-polish/04-01-SUMMARY.md`
</output>
