---
phase: 35-seo-geo-content-quality
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/content/match-content.ts
autonomous: true

must_haves:
  truths:
    - "Pre-match content starts with prediction in first sentence"
    - "Post-match content starts with result in first sentence"
    - "Team names are used consistently throughout content"
  artifacts:
    - path: "src/lib/content/match-content.ts"
      provides: "Answer-first content generation prompts"
      contains: "ANSWER-FIRST REQUIREMENT"
  key_links:
    - from: "generatePreMatchContent"
      to: "prompt template"
      via: "answer-first instruction"
      pattern: "FIRST sentence MUST"
    - from: "generatePostMatchContent"
      to: "prompt template"
      via: "answer-first instruction"
      pattern: "FIRST sentence MUST"
---

<objective>
Update pre-match and post-match content generation prompts to use answer-first structure where the prediction/result appears in the first 30-60 words.

Purpose: SEO/GEO optimization - AI search engines prioritize content that provides direct answers in the first 1-2 sentences (3.4x more citations).
Output: Modified prompts in match-content.ts that produce answer-first content.
</objective>

<execution_context>
@/Users/pieterbos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/pieterbos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/35-seo-geo-content-quality/35-RESEARCH.md

# Source file to modify
@src/lib/content/match-content.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update pre-match content prompt for answer-first structure</name>
  <files>src/lib/content/match-content.ts</files>
  <action>
Modify the `generatePreMatchContent` function's prompt to enforce answer-first structure.

Update the prompt (around line 115) to:

1. Add explicit ANSWER-FIRST REQUIREMENT instruction at the top of the prompt
2. State "The FIRST sentence MUST contain the predicted outcome"
3. Include word constraint: "in the first 30-60 words"
4. Add CORRECT EXAMPLE showing prediction in first sentence
5. Add INCORRECT EXAMPLE showing what NOT to do (context-first approach)
6. Add ENTITY NAME CONSISTENCY instruction requiring full team names

The prompt should follow this structure:
```
Write 4-5 sentences (~150-200 words) about ${match.homeTeam} vs ${match.awayTeam}.

ANSWER-FIRST REQUIREMENT (CRITICAL):
Your FIRST sentence MUST state who bookmakers favor to win.
Include in first 30-60 words: the favored team, predicted outcome, and odds.

CORRECT EXAMPLE:
"${match.homeTeam} are favored to beat ${match.awayTeam} at odds of X.XX in this [competition] match."

INCORRECT EXAMPLE (DO NOT USE):
"This exciting fixture sees ${match.homeTeam} take on ${match.awayTeam} this weekend..."

ENTITY NAME CONSISTENCY:
- Always use "${match.homeTeam}" (never abbreviate)
- Always use "${match.awayTeam}" (never abbreviate)

[rest of existing context about odds, form, etc.]
```

Keep all existing match data (odds, form, insights) but restructure the prompt to enforce answer-first.
  </action>
  <verify>
Read the modified file and confirm:
- Prompt contains "ANSWER-FIRST REQUIREMENT"
- Prompt contains "FIRST sentence MUST"
- Prompt contains "CORRECT EXAMPLE" and "INCORRECT EXAMPLE"
- Prompt contains "ENTITY NAME CONSISTENCY"
  </verify>
  <done>
Pre-match prompt explicitly requires prediction in first 30-60 words with positive/negative examples and entity name consistency rules.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update post-match content prompt for answer-first structure</name>
  <files>src/lib/content/match-content.ts</files>
  <action>
Modify the `generatePostMatchContent` function's prompt to enforce answer-first structure.

Update the prompt (around line 517) to:

1. Add explicit ANSWER-FIRST REQUIREMENT instruction at the top
2. State "The FIRST sentence MUST state the final score and winner"
3. Include word constraint: "in the first 30-60 words"
4. Add CORRECT EXAMPLE showing result in first sentence:
   "${match.homeTeam} defeated ${match.awayTeam} ${homeScore}-${awayScore} in the [competition]."
5. Add INCORRECT EXAMPLE showing context-first approach to avoid:
   "In an exciting fixture, ${match.homeTeam} faced ${match.awayTeam}..."
6. Add ENTITY NAME CONSISTENCY instruction

The prompt structure:
```
Write 4-5 sentences (~150-200 words) about ${match.homeTeam} ${match.homeScore}-${match.awayScore} ${match.awayTeam}.

ANSWER-FIRST REQUIREMENT (CRITICAL):
Your FIRST sentence MUST state the final score.
Include in first 30-60 words: the score, who won (or draw), and competition.

CORRECT EXAMPLE:
"${match.homeTeam} defeated ${match.awayTeam} ${match.homeScore}-${match.awayScore} in the [competition]. X of Y AI models correctly predicted the result."

INCORRECT EXAMPLE (DO NOT USE):
"In a thrilling [competition] encounter, ${match.homeTeam} hosted ${match.awayTeam}..."

ENTITY NAME CONSISTENCY:
- Always use "${match.homeTeam}" (never abbreviate)
- Always use "${match.awayTeam}" (never abbreviate)

[rest of existing AI model performance data]
```

Keep all existing match result data and model performance stats.
  </action>
  <verify>
Read the modified file and confirm:
- generatePostMatchContent prompt contains "ANSWER-FIRST REQUIREMENT"
- Prompt contains "FIRST sentence MUST state the final score"
- Prompt contains CORRECT and INCORRECT examples
- Prompt contains "ENTITY NAME CONSISTENCY"
  </verify>
  <done>
Post-match prompt explicitly requires result in first 30-60 words with positive/negative examples and entity name consistency rules.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Both prompts contain answer-first instructions with examples
3. Entity name consistency instructions present in both prompts
</verification>

<success_criteria>
- SGEO-01: Pre-match prompt requires prediction in first 30-60 words
- SGEO-02: Post-match prompt requires result in first 30-60 words
- SGEO-08 (partial): Entity name consistency instructions in both prompts
</success_criteria>

<output>
After completion, create `.planning/phases/35-seo-geo-content-quality/35-01-SUMMARY.md`
</output>
