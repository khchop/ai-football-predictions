---
phase: 29-faq-seo
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/match/MatchFAQSchema.tsx
autonomous: true

must_haves:
  truths:
    - "Finished matches generate exactly 5 questions (final score, prediction accuracy, goalscorers, competition, AI methodology)"
    - "Upcoming matches generate exactly 5 questions (kickoff time, predictions summary, how to watch, venue, AI methodology)"
    - "Live matches generate FAQ with appropriate in-progress questions"
    - "Questions use factual, direct tone with 1-2 sentence answers"
  artifacts:
    - path: "src/components/match/MatchFAQSchema.tsx"
      provides: "State-aware FAQ generation for 5 questions"
      exports: ["generateMatchFAQs", "FAQItem"]
  key_links:
    - from: "src/components/match/MatchFAQSchema.tsx"
      to: "match.status"
      via: "state-aware branching"
      pattern: "isFinished.*isUpcoming.*isLive"
---

<objective>
Extend FAQ generation to produce exactly 5 state-specific questions per CONTEXT.md decisions.

Purpose: Delivers CONT-06 requirement (5-7 questions auto-generated) with state-aware content.
Output: Updated generateMatchFAQs function returning 5 questions based on match state.
</objective>

<execution_context>
@/Users/pieterbos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/pieterbos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/29-faq-seo/29-CONTEXT.md
@.planning/phases/29-faq-seo/29-RESEARCH.md

# Existing implementation
@src/components/match/MatchFAQSchema.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extend generateMatchFAQs for 5 state-specific questions</name>
  <files>src/components/match/MatchFAQSchema.tsx</files>
  <action>
Rewrite generateMatchFAQs function to return exactly 5 questions based on match state.

**Keep the existing FAQItem interface and MatchFAQSchema component exports.**

**Finished match questions (5 total):**
1. **Final score** - "What was the final score of {home} vs {away}?"
   Answer: "{home} {homeScore} - {awayScore} {away}. The match was played in the {competition} on {date}."

2. **Prediction accuracy** - "Which AI models correctly predicted {home} vs {away}?"
   Answer: "Multiple AI models predicted this match. Check the predictions table above to see which models like GPT-4, Claude, and Gemini got the correct result or exact score."

3. **Goalscorers** - "Who scored in {home} vs {away}?"
   Answer: "The match ended {homeScore}-{awayScore}. View the match events section above for the full breakdown of goalscorers and key moments."

4. **Competition context** - "What competition was {home} vs {away} in?"
   Answer: "This match was part of the {competition}{round if exists}. View more {competition} matches and predictions on kroam.xyz."

5. **AI methodology** - "How accurate are AI predictions for football matches?"
   Answer: "AI models analyze historical data, team form, head-to-head records, and statistical patterns. Accuracy varies by model and competition. View the leaderboard to see which models perform best."

**Upcoming/Live match questions (5 total):**
1. **Kickoff time** - "When is {home} vs {away}?"
   Answer for upcoming: "The match kicks off on {date} at {time}{venue if exists}."
   Answer for live: "The match is currently in progress{venue if exists}."

2. **Predictions summary** - "What do AI models predict for {home} vs {away}?"
   Answer: "AI models including GPT-4, Claude, and Gemini have analyzed this match. View the predictions table above for individual model forecasts and the consensus prediction."

3. **How to watch** - "How can I watch {home} vs {away}?"
   Answer: "Check your local {competition} broadcaster for live coverage. Popular options include streaming services and sports channels that carry {competition} matches."

4. **Venue** - "Where is {home} vs {away} being played?"
   Answer with venue: "The match takes place at {venue}."
   Answer without venue: "The venue for this {competition} match has not been confirmed. Check back closer to kickoff for venue details."

5. **AI methodology** - Same as finished match (reuse)

**Date formatting:** Use date-fns format() with patterns:
- Date: "MMMM d, yyyy" (e.g., "February 3, 2026")
- Time: "h:mm a" (e.g., "3:00 PM")

**Import date-fns at top:**
```typescript
import { format } from 'date-fns';
```

**Remove the separate MatchFAQSchema component** - schema generation moves to MatchPageSchema in Plan 03. Only export generateMatchFAQs and FAQItem.
  </action>
  <verify>
    - `grep -c "question:" src/components/match/MatchFAQSchema.tsx` should show at least 10 (5 per state)
    - TypeScript compiles: `npx tsc --noEmit src/components/match/MatchFAQSchema.tsx`
    - `grep "generateMatchFAQs" src/components/match/MatchFAQSchema.tsx | head -1` confirms export
  </verify>
  <done>
    - generateMatchFAQs returns exactly 5 FAQItem[] for finished matches
    - generateMatchFAQs returns exactly 5 FAQItem[] for upcoming/live matches
    - Questions cover topics per CONTEXT.md (kickoff, predictions, how to watch, venue, methodology for upcoming; final score, prediction accuracy, goalscorers, competition, methodology for finished)
    - Answers are 1-2 sentences, factual tone, mention specific model names
    - MatchFAQSchema component removed (schema moves to MatchPageSchema)
  </done>
</task>

</tasks>

<verification>
- [ ] Finished match: exactly 5 questions covering final score, prediction accuracy, goalscorers, competition, AI methodology
- [ ] Upcoming/live match: exactly 5 questions covering kickoff time, predictions, how to watch, venue, AI methodology
- [ ] Uses date-fns format() for consistent date formatting
- [ ] FAQItem interface and generateMatchFAQs exported
- [ ] No TypeScript errors
</verification>

<success_criteria>
- FAQ generation logic complete and ready for schema integration (Plan 03)
- Questions match CONTEXT.md decisions exactly
- Handles edge cases (null venue, missing scores)
</success_criteria>

<output>
After completion, create `.planning/phases/29-faq-seo/29-02-SUMMARY.md`
</output>
