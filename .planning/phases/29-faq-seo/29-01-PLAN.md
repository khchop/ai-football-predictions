---
phase: 29-faq-seo
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/accordion.tsx
  - src/app/globals.css
  - package.json
autonomous: true

must_haves:
  truths:
    - "Accordion component supports multi-open mode (type='multiple')"
    - "First accordion item opens by default (defaultValue)"
    - "Accordion has smooth open/close animations"
  artifacts:
    - path: "src/components/ui/accordion.tsx"
      provides: "Radix-based accordion primitives"
      exports: ["Accordion", "AccordionItem", "AccordionTrigger", "AccordionContent"]
    - path: "src/app/globals.css"
      provides: "Accordion animation keyframes"
      contains: "accordion-down"
  key_links:
    - from: "src/components/ui/accordion.tsx"
      to: "@radix-ui/react-accordion"
      via: "import"
      pattern: "import.*AccordionPrimitive.*from.*@radix-ui/react-accordion"
---

<objective>
Create accessible Radix Accordion UI component with animation support.

Purpose: Provides the accordion primitives needed for FAQ presentation with multi-open mode and first-item-open default per CONTEXT.md decisions.
Output: Reusable accordion.tsx component and required animation keyframes in globals.css.
</objective>

<execution_context>
@/Users/pieterbos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/pieterbos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/29-faq-seo/29-CONTEXT.md
@.planning/phases/29-faq-seo/29-RESEARCH.md

# Existing UI patterns
@src/components/ui/collapsible.tsx
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Radix Accordion and create accordion.tsx</name>
  <files>
    - package.json
    - src/components/ui/accordion.tsx
  </files>
  <action>
1. Install @radix-ui/react-accordion:
   ```bash
   npm install @radix-ui/react-accordion
   ```

2. Create `src/components/ui/accordion.tsx` with these exports:
   - `Accordion` (Root) - wraps AccordionPrimitive.Root
   - `AccordionItem` - styled item container with border-border/50, rounded-lg
   - `AccordionTrigger` - flex layout with ChevronDown icon that rotates 180deg on open
   - `AccordionContent` - animated content wrapper with border-t

3. Use existing patterns from collapsible.tsx:
   - Use `cn()` from @/lib/utils for class merging
   - Use forwardRef pattern for all components
   - Add displayName to all components

4. Trigger styling: font-medium, hover:bg-muted/30, py-4 px-4, transition-colors
5. Content styling: px-4 pb-4 pt-2, border-t border-border/30

6. ChevronDown icon: import from lucide-react, h-5 w-5 text-muted-foreground, transition-transform duration-200
  </action>
  <verify>
    - `npm ls @radix-ui/react-accordion` shows package installed
    - File exists: `ls src/components/ui/accordion.tsx`
    - TypeScript compiles: `npx tsc --noEmit src/components/ui/accordion.tsx`
  </verify>
  <done>
    - Radix Accordion installed in package.json
    - accordion.tsx exports Accordion, AccordionItem, AccordionTrigger, AccordionContent
    - Component uses forwardRef pattern consistent with other UI components
  </done>
</task>

<task type="auto">
  <name>Task 2: Add accordion animation keyframes to globals.css</name>
  <files>src/app/globals.css</files>
  <action>
Add accordion animation keyframes to the @layer utilities section in globals.css.

Add these keyframes AFTER the existing `@keyframes gradient` block (around line 357):

```css
/* Accordion animations for Radix */
@keyframes accordion-down {
  from {
    height: 0;
    opacity: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
    opacity: 1;
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
    opacity: 1;
  }
  to {
    height: 0;
    opacity: 0;
  }
}

.animate-accordion-down {
  animation: accordion-down 0.2s ease-out;
}

.animate-accordion-up {
  animation: accordion-up 0.2s ease-out;
}
```

These classes are used by AccordionContent via data-[state=open]:animate-accordion-down and data-[state=closed]:animate-accordion-up.
  </action>
  <verify>
    - `grep -q "accordion-down" src/app/globals.css && echo "Found"` returns "Found"
    - `grep -q "animate-accordion-up" src/app/globals.css && echo "Found"` returns "Found"
  </verify>
  <done>
    - accordion-down and accordion-up keyframes defined in globals.css
    - .animate-accordion-down and .animate-accordion-up utility classes exist
    - Uses --radix-accordion-content-height CSS variable for height animation
  </done>
</task>

</tasks>

<verification>
- [ ] @radix-ui/react-accordion in package.json dependencies
- [ ] accordion.tsx exports 4 components (Accordion, AccordionItem, AccordionTrigger, AccordionContent)
- [ ] globals.css contains accordion animation keyframes
- [ ] No TypeScript errors: `npx tsc --noEmit`
</verification>

<success_criteria>
- Accordion component ready for use in match-faq.tsx
- Animations work with Radix data-state attributes
- Build passes: `npm run build` (or at least TypeScript compiles)
</success_criteria>

<output>
After completion, create `.planning/phases/29-faq-seo/29-01-SUMMARY.md`
</output>
