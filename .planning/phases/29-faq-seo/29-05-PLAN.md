---
phase: 29-faq-seo
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/MatchPageSchema.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Postponed matches have eventStatus set to EventPostponed"
    - "Cancelled matches have eventStatus set to EventCancelled"
    - "All five match states map to correct Schema.org EventStatus values"
  artifacts:
    - path: "src/components/MatchPageSchema.tsx"
      provides: "Complete eventStatus mapping function"
      contains: "EventPostponed"
    - path: "src/components/MatchPageSchema.tsx"
      provides: "Complete eventStatus mapping function"
      contains: "EventCancelled"
  key_links:
    - from: "src/components/MatchPageSchema.tsx"
      to: "Schema.org EventStatus vocabulary"
      via: "getEventStatus switch cases"
      pattern: "schema\\.org/Event(Postponed|Cancelled)"
---

<objective>
Fix eventStatus mapping to handle all match states per SGEO-03 requirement.

Purpose: Ensure Schema.org SportsEvent markup correctly reflects postponed and cancelled matches, which is required for valid structured data and accurate representation in search results.

Output: Updated `getEventStatus` function with complete status mapping.
</objective>

<execution_context>
@/Users/pieterbos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/pieterbos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@src/components/MatchPageSchema.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add missing eventStatus cases for postponed and cancelled</name>
  <files>src/components/MatchPageSchema.tsx</files>
  <action>
Update the `getEventStatus` function to handle all five match states:

```typescript
function getEventStatus(status: string | null): string {
  switch (status) {
    case 'finished':
      return 'https://schema.org/EventCompleted';
    case 'live':
      return 'https://schema.org/EventInProgress';
    case 'postponed':
      return 'https://schema.org/EventPostponed';
    case 'cancelled':
      return 'https://schema.org/EventCancelled';
    default:
      return 'https://schema.org/EventScheduled';
  }
}
```

The default case continues to handle 'scheduled' and any unknown states as EventScheduled, which is the safe fallback.

Schema.org EventStatus vocabulary reference:
- EventScheduled: Event is planned to happen
- EventInProgress: Event is currently happening (live)
- EventCompleted: Event has finished
- EventPostponed: Event has been postponed to a later date
- EventCancelled: Event has been cancelled
  </action>
  <verify>
1. Run TypeScript check: `npx tsc --noEmit`
2. Search for the new cases: `grep -n "EventPostponed\|EventCancelled" src/components/MatchPageSchema.tsx`
3. Verify function handles all 5 states by reviewing the switch statement
  </verify>
  <done>
- `getEventStatus('postponed')` returns 'https://schema.org/EventPostponed'
- `getEventStatus('cancelled')` returns 'https://schema.org/EventCancelled'
- `getEventStatus('finished')` returns 'https://schema.org/EventCompleted'
- `getEventStatus('live')` returns 'https://schema.org/EventInProgress'
- `getEventStatus('scheduled')` and `getEventStatus(null)` return 'https://schema.org/EventScheduled'
  </done>
</task>

</tasks>

<verification>
1. TypeScript compiles without errors
2. All five eventStatus cases are present in the switch statement
3. Schema.org URLs are correctly formatted (https://schema.org/Event*)
</verification>

<success_criteria>
- SGEO-03 requirement satisfied: eventStatus correctly maps to all states
- No TypeScript errors
- Function covers: scheduled, live, finished, postponed, cancelled
</success_criteria>

<output>
After completion, create `.planning/phases/29-faq-seo/29-05-SUMMARY.md`
</output>
