---
phase: 29-faq-seo
plan: 04
type: execute
wave: 3
depends_on: ["29-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "FAQ section renders correctly for upcoming matches with 5 questions"
    - "FAQ section renders correctly for finished matches with 5 questions"
    - "First accordion item is expanded by default"
    - "Multiple accordion items can be open simultaneously"
    - "JSON-LD @graph contains FAQPage with matching questions"
  artifacts: []
  key_links: []
---

<objective>
Visually verify FAQ functionality across all match states and validate schema output.

Purpose: Confirms all Phase 29 requirements are satisfied before marking complete.
Output: Verification that FAQ displays correctly and schema validates.
</objective>

<execution_context>
@/Users/pieterbos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/pieterbos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/29-faq-seo/29-CONTEXT.md

# Prior plan outputs
@.planning/phases/29-faq-seo/29-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update match page to pass FAQs to MatchPageSchema</name>
  <files>
    - src/app/matches/[id]/page.tsx
    - src/app/leagues/[slug]/[match]/page.tsx
  </files>
  <action>
Find the match page files and update them to:
1. Import generateMatchFAQs from MatchFAQSchema
2. Generate FAQs from match and competition data
3. Pass faqs prop to MatchPageSchema

Example update pattern:
```typescript
import { generateMatchFAQs } from '@/components/match/MatchFAQSchema';

// In the page component, after getting match and competition:
const faqs = generateMatchFAQs(match, competition);

// Update MatchPageSchema usage:
<MatchPageSchema
  match={match}
  competition={{ name: competition.name, slug: competition.slug }}
  url={url}
  faqs={faqs}
/>
```

Check both match page routes:
- `src/app/matches/[id]/page.tsx` (if exists)
- `src/app/leagues/[slug]/[match]/page.tsx` (primary route)

If MatchPageSchema is called from a wrapper component, update that component instead.
  </action>
  <verify>
    - `grep -r "faqs={" src/app --include="*.tsx" | grep -q "MatchPageSchema"` confirms faqs prop passed
    - TypeScript compiles: `npm run build` or `npx tsc --noEmit`
  </verify>
  <done>
    - Match pages pass faqs prop to MatchPageSchema
    - FAQs generated from same source as visual component
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete FAQ & SEO implementation:
    - Radix Accordion-based FAQ section with 5 state-specific questions
    - Single JSON-LD @graph containing SportsEvent + FAQPage
    - First item expanded by default, multi-open enabled
  </what-built>
  <how-to-verify>
    1. Start dev server: `npm run dev`

    2. **Test UPCOMING match:**
       - Navigate to an upcoming match page
       - Verify FAQ section shows "Frequently Asked Questions" heading
       - Verify exactly 5 questions displayed:
         - When is [match]?
         - What do AI models predict?
         - How can I watch?
         - Where is [match] being played?
         - How accurate are AI predictions?
       - Verify first item is expanded by default
       - Click multiple items - verify they can all be open simultaneously
       - Check animations: items should slide open/closed smoothly

    3. **Test FINISHED match:**
       - Navigate to a finished match page
       - Verify exactly 5 questions displayed:
         - What was the final score?
         - Which AI models correctly predicted?
         - Who scored?
         - What competition was this in?
         - How accurate are AI predictions?
       - Verify answers show actual scores and factual content

    4. **Validate JSON-LD schema:**
       - View page source (Ctrl+U / Cmd+U)
       - Find the script tag with type="application/ld+json"
       - Verify single @graph contains BOTH:
         - "@type": "SportsEvent"
         - "@type": "FAQPage"
       - Verify FAQPage.mainEntity questions match visible FAQ text exactly

    5. **Google Rich Results Test (optional but recommended):**
       - Copy page URL
       - Go to https://search.google.com/test/rich-results
       - Paste URL and test
       - Should show both Event and FAQ markup detected

  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
- [ ] FAQ renders for upcoming match with 5 questions
- [ ] FAQ renders for finished match with 5 questions
- [ ] First accordion item expanded by default
- [ ] Multiple accordion items can be open
- [ ] Smooth open/close animations
- [ ] Single JSON-LD @graph contains SportsEvent + FAQPage
- [ ] Schema questions match visible FAQ exactly
</verification>

<success_criteria>
- User confirms FAQ displays correctly across match states
- Schema validation passes (single @graph, questions match)
- All CONT-06, SGEO-01, SGEO-02, SGEO-04, SGEO-05 requirements satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/29-faq-seo/29-04-SUMMARY.md`
</output>
