---
phase: 24-match-page-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/leagues/[slug]/[match]/page.tsx
  - src/components/match/match-page-header.tsx
autonomous: true

must_haves:
  truths:
    - "User scrolls the entire match page naturally without sticky header repositioning"
    - "Mobile and desktop users see the same single-column layout (no tab navigation)"
  artifacts:
    - path: "src/app/leagues/[slug]/[match]/page.tsx"
      provides: "Unified single-column layout for all devices"
      contains: "space-y-8"
    - path: "src/components/match/match-page-header.tsx"
      provides: "Non-sticky header wrapper"
  key_links:
    - from: "page.tsx"
      to: "MatchHeader"
      via: "direct render without sticky wrapper"
      pattern: "<MatchHeader"
---

<objective>
Remove sticky header and mobile tabbed navigation from match page.

Purpose: Simplify match page UX by enabling natural scrolling and unified layout across all devices. Users currently experience different navigation patterns on mobile (tabs) vs desktop (scroll), and the sticky header causes jarring repositioning during scroll.

Output: Match page that scrolls naturally with header staying in place, and identical single-column layout on mobile and desktop.
</objective>

<execution_context>
@/Users/pieterbos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/pieterbos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-match-page-cleanup/24-RESEARCH.md

@src/app/leagues/[slug]/[match]/page.tsx
@src/components/match/match-page-header.tsx
@src/components/match/match-header-sticky.tsx
@src/components/match/match-tabs-mobile.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove sticky header behavior</name>
  <files>src/components/match/match-page-header.tsx</files>
  <action>
    Refactor `MatchPageHeader` to render `MatchHeader` directly without sticky behavior:

    1. Remove the `useIntersectionObserver` hook import and usage
    2. Remove the `'use client'` directive (no longer needed without hooks)
    3. Remove the conditional rendering of `MatchHeaderSticky`
    4. Simply render `<MatchHeader>` directly without any wrapper div with sticky classes
    5. The component should now be a simple pass-through that renders MatchHeader

    The result should be a server component that just renders MatchHeader with the same props.
    Do NOT delete the component file - it maintains the API surface for the page.
  </action>
  <verify>
    - `grep -c "use client" src/components/match/match-page-header.tsx` returns 0
    - `grep -c "sticky" src/components/match/match-page-header.tsx` returns 0
    - `grep -c "MatchHeaderSticky" src/components/match/match-page-header.tsx` returns 0
    - `grep -c "useIntersectionObserver" src/components/match/match-page-header.tsx` returns 0
  </verify>
  <done>MatchPageHeader renders MatchHeader directly without sticky behavior or client-side code</done>
</task>

<task type="auto">
  <name>Task 2: Remove mobile tabbed navigation</name>
  <files>src/app/leagues/[slug]/[match]/page.tsx</files>
  <action>
    Modify the match page to use a single unified layout instead of separate mobile/desktop layouts:

    1. Remove imports for:
       - `MatchTabsMobile`
       - `SummaryTab`
       - `StatsTab`
       - `PredictionsTab`
       - `AnalysisTab`

    2. Delete the entire mobile-specific section:
       - Remove `<div className="md:hidden space-y-6">` and everything inside it (the MatchTabsMobile wrapper and its children)

    3. Update the desktop section to be the unified layout:
       - Change `<div className="hidden md:block space-y-8">` to `<div className="space-y-8">`
       - This removes the `hidden md:block` responsive hiding since it's now the only layout

    4. Keep ALL existing desktop content exactly as-is (Match Events, MatchStats, MatchContentSection, PredictionTable card, Explore More card, RelatedMatchesWidget, MatchFAQ)

    The page should now render the same content on all screen sizes.
  </action>
  <verify>
    - `grep -c "MatchTabsMobile" src/app/leagues/[slug]/[match]/page.tsx` returns 0
    - `grep -c "md:hidden" src/app/leagues/[slug]/[match]/page.tsx` returns 0
    - `grep -c "hidden md:block" src/app/leagues/[slug]/[match]/page.tsx` returns 0
    - `npm run build` succeeds without errors
  </verify>
  <done>Match page renders single unified layout on all devices, no mobile tabs</done>
</task>

<task type="auto">
  <name>Task 3: Clean up unused imports and components</name>
  <files>src/app/leagues/[slug]/[match]/page.tsx</files>
  <action>
    After removing the mobile layout, clean up the file:

    1. Remove any unused imports at the top of the file that were only used by the deleted mobile section (SummaryTab, StatsTab, PredictionsTab, AnalysisTab, MatchTabsMobile)

    2. Verify the file has no TypeScript errors by checking that all remaining imports are used

    Note: Do NOT delete the tab-content component files yet - they may be referenced elsewhere. Just remove their imports from page.tsx.
  </action>
  <verify>
    - `npx tsc --noEmit` succeeds (no TypeScript errors)
    - `npm run build` succeeds
  </verify>
  <done>page.tsx has no unused imports, TypeScript compiles cleanly</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` succeeds
2. `npm run dev` and visit any match page (e.g., /leagues/premier-league/some-match)
3. On desktop: Page scrolls naturally, header stays in place (not sticky)
4. On mobile (or browser DevTools mobile view): Same layout as desktop, no tabs visible
5. Scrolling on mobile does NOT cause header to reappear/disappear
</verification>

<success_criteria>
- Sticky header completely removed - scrolling is natural on all devices
- Mobile tabs completely removed - single-column layout on all screen sizes
- Build passes with no errors
- No visual regressions on desktop layout
</success_criteria>

<output>
After completion, create `.planning/phases/24-match-page-cleanup/24-01-SUMMARY.md`
</output>
