---
phase: 30-layout-assembly
plan: 04
type: execute
wave: 3
depends_on: [30-03]
files_modified:
  - src/components/match/match-header.tsx (DELETE)
  - src/components/match/match-page-header.tsx (DELETE)
  - src/components/match/match-h1.tsx (DELETE)
  - src/components/match/match-tabs-mobile.tsx (DELETE)
  - src/components/match/match-header-sticky.tsx (DELETE)
  - src/components/match/tab-content/summary-tab.tsx (DELETE)
  - src/components/match/tab-content/stats-tab.tsx (DELETE)
  - src/components/match/tab-content/predictions-tab.tsx (DELETE)
  - src/components/match/tab-content/analysis-tab.tsx (DELETE)
  - src/components/match/collapsible-section.tsx (DELETE)
  - src/components/match/match-tldr.tsx (DELETE)
  - src/components/match/match-odds.tsx (DELETE)
  - src/components/match/predictions-section.tsx (DELETE)
  - src/components/match/MatchStats.tsx (DELETE)
  - src/components/match/related-matches-widget.tsx (DELETE)
  - src/components/match/top-performers.tsx (DELETE)
autonomous: true

must_haves:
  truths:
    - "All deprecated components deleted"
    - "No broken imports in remaining files"
    - "Build succeeds after deletion"
    - "tab-content directory removed entirely"
  artifacts: []
  key_links: []
---

<objective>
Delete all deprecated match page components that are no longer used after MatchLayout integration.

Purpose: Clean up codebase by removing components replaced by the new layout system, per CONTEXT.md decision for aggressive cleanup.
Output: Smaller, cleaner codebase with only actively-used components.
</objective>

<execution_context>
@/Users/pieterbos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/pieterbos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/30-layout-assembly/30-CONTEXT.md
@.planning/phases/30-layout-assembly/30-RESEARCH.md
@.planning/phases/30-layout-assembly/30-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit imports before deletion</name>
  <files>None (audit only)</files>
  <action>
Before deleting, verify each component is truly unused. Run grep for each component to find imports.

**Components to audit:**
```bash
# Run these greps to confirm no active imports:
grep -r "from '@/components/match/match-header'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/match-page-header'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/match-h1'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/match-tabs-mobile'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/match-header-sticky'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/tab-content" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/collapsible-section'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/match-tldr'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/match-odds'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/predictions-section'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/MatchStats'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/related-matches-widget'" src/ --include="*.tsx" --include="*.ts"
grep -r "from '@/components/match/top-performers'" src/ --include="*.tsx" --include="*.ts"
```

**If any active imports found:**
- Document which file imports the component
- If it's a planning doc or old code, it's safe to delete
- If it's active code, do NOT delete - note in deviation

**Check for utility function exports:**
For each file before deletion, check if it exports utility functions that might be used elsewhere:
```bash
grep -n "export function\|export const\|export type" src/components/match/[component].tsx
```

If utility functions exist that are imported elsewhere, extract them to src/lib/utils/ first.
  </action>
  <verify>
1. Audit complete: Record results of all grep commands
2. No active imports found for deletion candidates
3. Any extracted utilities documented
  </verify>
  <done>
- Import audit complete
- All deprecated components confirmed unused
- Any utility extractions identified
  </done>
</task>

<task type="auto">
  <name>Task 2: Delete deprecated components</name>
  <files>
    src/components/match/match-header.tsx (DELETE)
    src/components/match/match-page-header.tsx (DELETE)
    src/components/match/match-h1.tsx (DELETE)
    src/components/match/match-tabs-mobile.tsx (DELETE)
    src/components/match/match-header-sticky.tsx (DELETE)
    src/components/match/tab-content/ (DELETE directory)
    src/components/match/collapsible-section.tsx (DELETE)
    src/components/match/match-tldr.tsx (DELETE)
    src/components/match/match-odds.tsx (DELETE)
    src/components/match/predictions-section.tsx (DELETE)
    src/components/match/MatchStats.tsx (DELETE)
    src/components/match/related-matches-widget.tsx (DELETE)
    src/components/match/top-performers.tsx (DELETE)
  </files>
  <action>
Delete all deprecated components confirmed as unused in Task 1.

**Deletion commands:**
```bash
# Individual files
rm src/components/match/match-header.tsx
rm src/components/match/match-page-header.tsx
rm src/components/match/match-h1.tsx
rm src/components/match/match-tabs-mobile.tsx
rm src/components/match/match-header-sticky.tsx
rm src/components/match/collapsible-section.tsx
rm src/components/match/match-tldr.tsx
rm src/components/match/match-odds.tsx
rm src/components/match/predictions-section.tsx
rm src/components/match/MatchStats.tsx
rm src/components/match/related-matches-widget.tsx
rm src/components/match/top-performers.tsx

# Directory (entire tab-content folder)
rm -rf src/components/match/tab-content/
```

**IMPORTANT: Do not delete these (still in use):**
- match-data-provider.tsx (Context provider - used by MatchLayout)
- use-match.ts (Hook - used by all new components)
- use-live-match-minute.ts (Hook - used by MatchHero)
- match-hero.tsx (New component - Phase 27)
- match-narrative.tsx (New component - Phase 28)
- sortable-predictions-table.tsx (New component - Phase 28)
- match-faq.tsx (New component - Phase 29)
- MatchFAQSchema.tsx (Schema generator - used by match-faq.tsx)
- predictions-skeleton.tsx (Used by skeletons/full-layout-skeleton.tsx)
- match-layout.tsx (New component - Phase 30)
- skeletons/ (New directory - Phase 30)
- PredictionInsightsBlockquote.tsx (Review separately)
- MatchRoundup.tsx (Review separately)
- roundup-viewer.tsx (Review separately)
- ReadMoreText.tsx (Review separately)
- narrative-preview.tsx (Review separately)
- MatchContent.tsx (Review separately)
- predictions-summary.tsx (Review separately)
  </action>
  <verify>
1. Files deleted: `ls src/components/match/match-header.tsx 2>&1` should show "No such file"
2. Directory deleted: `ls src/components/match/tab-content/ 2>&1` should show "No such file or directory"
3. Essential files preserved: `ls src/components/match/match-hero.tsx` should exist
4. Build succeeds: `npm run build 2>&1 | tail -20`
  </verify>
  <done>
- All deprecated components deleted
- tab-content directory removed
- Essential components preserved
- Build succeeds
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify clean state</name>
  <files>None (verification only)</files>
  <action>
Final verification that codebase is clean after deletion.

1. **Run build:**
   ```bash
   npm run build
   ```
   Must succeed with no errors.

2. **Check remaining match components:**
   ```bash
   ls -la src/components/match/
   ```
   Should show only:
   - match-data-provider.tsx
   - use-match.ts
   - use-live-match-minute.ts
   - match-hero.tsx
   - match-narrative.tsx
   - sortable-predictions-table.tsx
   - match-faq.tsx
   - MatchFAQSchema.tsx
   - predictions-skeleton.tsx
   - match-layout.tsx
   - skeletons/ (directory)
   - Plus any components marked "Review separately" that are still used

3. **Run TypeScript check:**
   ```bash
   npx tsc --noEmit
   ```
   Must succeed with no errors.

4. **Count remaining files:**
   Document how many files were deleted vs retained.
  </action>
  <verify>
1. `npm run build` succeeds
2. `npx tsc --noEmit` succeeds
3. Essential components still exist
4. No orphaned imports in remaining files
  </verify>
  <done>
- Build succeeds after cleanup
- TypeScript compiles
- Only actively-used components remain
- Codebase is clean
  </done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds
2. `npx tsc --noEmit` succeeds
3. No broken imports anywhere
4. src/components/match/tab-content/ no longer exists
</verification>

<success_criteria>
- [ ] Import audit completed
- [ ] All deprecated components deleted (13+ files)
- [ ] tab-content directory deleted
- [ ] Essential components preserved
- [ ] Build succeeds
- [ ] TypeScript compiles
- [ ] No orphaned imports
</success_criteria>

<output>
After completion, create `.planning/phases/30-layout-assembly/30-04-SUMMARY.md`
</output>
