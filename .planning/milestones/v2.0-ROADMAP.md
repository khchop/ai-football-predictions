# Milestone v2.0: UI/UX Overhaul

**Status:** ✅ SHIPPED 2026-02-03
**Phases:** 17-23
**Total Plans:** 28

## Overview

Complete UI/UX rebuild from the ground up with new design system, optimized for speed, SEO, and GEO across all page types. Includes dark mode, View Transitions, PPR streaming, FAQ schemas for GEO optimization, and systematic internal linking.

## Phases

### Phase 17: Design System Foundation
**Goal**: Establish design tokens, component patterns, and infrastructure for all subsequent visual work
**Requirements**: DSGN-01, DSGN-02, DSGN-03, DSGN-04, DSGN-05, DSGN-06
**Dependencies**: None
**Plans**: 4 plans

Plans:
- [x] 17-01-PLAN.md — Semantic OKLCH color tokens and dark mode with next-themes
- [x] 17-02-PLAN.md — Typography scale (1.2 ratio) and spacing system (4px/8px rhythm)
- [x] 17-03-PLAN.md — MatchBadge and AccuracyBadge component variants
- [x] 17-04-PLAN.md — View Transitions API with accessibility handling

**Success Criteria:**
1. User sees consistent win/loss/draw colors across all match states (semantic tokens applied)
2. User experiences readable typography at all breakpoints from mobile to desktop (responsive scale active)
3. User toggles dark mode and all UI elements reflect the change immediately
4. User navigates between pages with smooth visual transitions (View Transitions API enabled)
5. Developer can compose new match state variants using documented token patterns

---

### Phase 18: Match Page Rebuild
**Goal**: Match pages display content clearly without duplication, optimized for speed and AI citations
**Requirements**: MTCH-01, MTCH-02, MTCH-03, MTCH-04, MTCH-05, MTCH-06
**Dependencies**: Phase 17 (design tokens and PPR infrastructure)
**Plans**: 5 plans

Plans:
- [x] 18-01-PLAN.md — Score deduplication with Intersection Observer for sticky header trigger
- [x] 18-02-PLAN.md — TL;DR component and preview with scroll-to-section pattern
- [x] 18-03-PLAN.md — PPR infrastructure with shimmer skeletons (activation deferred to Phase 23)
- [x] 18-04-PLAN.md — FAQ component with JSON-LD schema for GEO
- [x] 18-05-PLAN.md — Final integration and human verification

**Success Criteria:**
1. User sees match score exactly once on the page (no duplication in header, stats, or other sections)
2. User reads pre-match AI narrative on upcoming match pages (content visible, not hidden)
3. User reads prediction explanations on pages with active predictions (content visible above fold)
4. User reads post-match roundup on finished match pages (complete narrative visible)
5. User experiences fast initial load with static shell while dynamic content streams in (PPR active)
6. AI search engines cite match page content in responses (answer-first GEO structure)

---

### Phase 19: Blog Page Rebuild
**Goal**: Blog posts readable and optimized for GEO with proper typography and navigation
**Requirements**: BLOG-01, BLOG-02, BLOG-03, BLOG-04, BLOG-05
**Dependencies**: Phase 17 (typography scale)
**Plans**: 5 plans

Plans:
- [x] 19-01-PLAN.md — Typography and content styling with heading extraction utility
- [x] 19-02-PLAN.md — FAQ extraction and accordion component with FAQPage schema
- [x] 19-03-PLAN.md — Related articles utility and card grid widget
- [x] 19-04-PLAN.md — Table of contents with Intersection Observer scroll spy
- [x] 19-05-PLAN.md — Blog page integration and human verification

**Success Criteria:**
1. User reads blog content at comfortable line width (600-700px max, not full screen)
2. User distinguishes heading hierarchy visually (H1, H2, H3 have clear size/weight differences)
3. User jumps to specific sections via table of contents on long articles (500+ words)
4. User finds FAQ section at bottom of relevant posts (FAQPage schema present)
5. User discovers related articles via contextual widget at post end

---

### Phase 20: League Page Rebuild
**Goal**: League pages SEO-optimized with rich structured data and stats dashboard
**Requirements**: LEAG-01, LEAG-02, LEAG-03, LEAG-04, LEAG-05
**Dependencies**: Phase 17 (design tokens for data visualization)
**Plans**: 4 plans

Plans:
- [x] 20-01-PLAN.md — SEO metadata and SportsOrganization schema enhancement
- [x] 20-02-PLAN.md — FAQ generator and LeagueFAQ component
- [x] 20-03-PLAN.md — Trend chart component and data query
- [x] 20-04-PLAN.md — Integration with combined @graph schema

**Success Criteria:**
1. User finds league pages via search engines with rich snippets (SEO metadata optimized)
2. AI search engines understand league structure (SportsOrganization schema present)
3. User finds FAQ section answering common league questions (FAQPage schema present)
4. User views competition stats at a glance (total matches, predictions, accuracy displayed)
5. User explores historical performance trends via visualization (charts showing model accuracy over time)

---

### Phase 21: Leaderboard Page Rebuild
**Goal**: Leaderboard pages SEO-optimized with time filtering and trend indicators
**Requirements**: LEAD-01, LEAD-02, LEAD-03
**Dependencies**: Phase 17 (design tokens for trend indicators)
**Plans**: 2 plans

Plans:
- [x] 21-01-PLAN.md — Time period filtering (weekly/monthly/all) and rank trend calculation
- [x] 21-02-PLAN.md — Dynamic FAQ generator and FAQPage schema integration

**Success Criteria:**
1. User finds leaderboard pages via search with FAQ rich snippets (SEO and schema optimized)
2. User filters leaderboard by time period (weekly, monthly, all-time views available)
3. User identifies rising/falling models via visual trend indicators (up/down arrows or colors)

---

### Phase 22: Navigation & Internal Linking
**Goal**: Seamless navigation across all pages with systematic internal linking
**Requirements**: NAVL-01, NAVL-02, NAVL-03, NAVL-04, NAVL-05
**Dependencies**: Phases 18-21 (navigation must link to rebuilt pages)
**Plans**: 5 plans

Plans:
- [x] 22-01-PLAN.md — HoverPrefetchLink and BottomNav components
- [x] 22-02-PLAN.md — Visual breadcrumbs component and builder utilities
- [x] 22-03-PLAN.md — Entity linking utilities and component
- [x] 22-04-PLAN.md — Integrate navigation across all pages
- [x] 22-05-PLAN.md — Prefetch optimization and human verification

**Success Criteria:**
1. Mobile user navigates via thumb-friendly bottom navigation bar (4-5 primary destinations)
2. User orients via breadcrumbs on all pages (shows current position in site hierarchy)
3. User discovers related content via widgets (related matches, models, articles shown contextually)
4. User follows inline links to teams, competitions, and models within content (auto-linked entities)
5. User experiences instant navigation via prefetch on hover/touch (no loading delay)

---

### Phase 23: Performance & Polish
**Goal**: Validate PPR benefits, optimize bundle size, ensure smooth transitions
**Requirements**: PERF-01, PERF-02, PERF-03, PERF-04
**Dependencies**: Phases 17-22 (all components must exist for performance audit)
**Plans**: 3 plans

Plans:
- [x] 23-01-PLAN.md — Refactor blog page for PPR with Suspense boundaries
- [x] 23-02-PLAN.md — Client component audit (remove unnecessary 'use client')
- [x] 23-03-PLAN.md — Enable cacheComponents and verify PPR behavior

**Success Criteria:**
1. User experiences static shell rendering instantly with dynamic content streaming (PPR validated)
2. Developer confirms cache configuration works without dynamic/revalidate conflicts
3. Developer confirms unnecessary 'use client' directives removed (client component audit complete)
4. User experiences smooth animated transitions between pages (View Transitions polished)

---

## Milestone Summary

**Key Decisions:**
- OKLCH color space for perceptual uniformity across light/dark modes
- Dark mode uses dark grays (L=0.14), not pure black, for eye comfort
- System preference as default theme via next-themes
- System font stack for fast loading and native feel
- 1.2 ratio (Minor Third) type scale for balanced hierarchy
- 4px/8px spacing rhythm for consistent component spacing
- 150ms view transition duration for snappy navigation feel
- prefers-reduced-motion fully disables view transitions
- Intersection Observer triggers sticky header only when hero exits viewport
- Score appears exactly twice: large in hero, compact in sticky header
- Native details/summary for FAQ: no JavaScript required, accessible by default
- Intent-based prefetching via HoverPrefetchLink (hover/touch triggers)
- 4 bottom nav items: Home, Matches, Leaderboard, Blog
- Entity sorting by length descending to prevent partial matches
- PPR activation via cacheComponents: true
- connection() calls added to cache layer for PPR compatibility

**Issues Resolved:**
- Score duplication across match page sections (appeared 3+ times)
- Blog content at full width (now 70ch max for readability)
- No FAQ schema on any pages (now on match, blog, league, leaderboard)
- No dark mode support (now system preference + manual toggle)
- No View Transitions (now 150ms smooth navigation)
- No PPR streaming (now cacheComponents enabled with Suspense)
- 3 unnecessary client components (converted to server)

**Issues Deferred:**
- ThemeToggle not integrated into Navigation (2 min fix, low priority)
- MatchBadge/AccuracyBadge adoption (components exist but unused)
- Semantic token migration (50+ hardcoded colors remain)

**Technical Debt Incurred:**
- Phase 17 design tokens exist but weren't adopted by later phases
- MatchBadge and AccuracyBadge are orphaned (0 imports)
- Hardcoded green/red colors instead of text-win/text-loss tokens

---

*For current project status, see .planning/ROADMAP.md (or .planning/MILESTONES.md for history)*

---
*Archived: 2026-02-03 as part of v2.0 milestone completion*
