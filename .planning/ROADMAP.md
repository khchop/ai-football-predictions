# Roadmap: AI Football Predictions Platform

## Milestones

- **v1.0 Bug Fix Stabilization** - Phases 1-4 (shipped 2026-02-01)
- **v1.1 Stats Accuracy & SEO** - Phases 5-8 (shipped 2026-02-02)
- **v1.2 Technical SEO Fixes** - Phases 9-12 (shipped 2026-02-02)
- **v1.3 Match Page Refresh** - Phases 13-16 (shipped 2026-02-02)
- **v2.0 UI/UX Overhaul** - Phases 17-23 (shipped 2026-02-03)
- **v2.1 Match Page Simplification** - Phases 24-25 (shipped 2026-02-03)
- **v2.2 Match Page Rewrite** - Phases 26-30 (shipped 2026-02-04)
- **v2.3 Content Pipeline & SEO** - Phases 31-36 (shipped 2026-02-04)
- **v2.4 Synthetic.new Integration** - Phases 37-39 (shipped 2026-02-05)
- **v2.5 Model Reliability & Dynamic Counts** - Phases 40-43 (shipped 2026-02-05)
- **v2.6 SEO/GEO Site Health** - Phases 44-48 (in progress)

## Phases

<details>
<summary>v1.0 Bug Fix Stabilization (Phases 1-4) - SHIPPED 2026-02-01</summary>

### Phase 1: Database Resilience
**Goal**: Database connections stable under load
**Plans**: 4 plans
**Status**: Complete

### Phase 2: Pipeline Reliability
**Goal**: Prediction generation succeeds reliably
**Plans**: 4 plans
**Status**: Complete

### Phase 3: Scoring Accuracy
**Goal**: Points calculated correctly
**Plans**: 3 plans
**Status**: Complete

### Phase 4: Frontend Stability
**Goal**: Match pages render without errors
**Plans**: 3 plans
**Status**: Complete

</details>

<details>
<summary>v1.1 Stats Accuracy & SEO (Phases 5-8) - SHIPPED 2026-02-02</summary>

### Phase 5: Stats Correction
**Goal**: Accuracy calculations match reality
**Plans**: 3 plans
**Status**: Complete

### Phase 6: Historical Migration
**Goal**: All historical stats recalculated
**Plans**: 3 plans
**Status**: Complete

### Phase 7: SEO Structured Data
**Goal**: Rich results for Google
**Plans**: 2 plans
**Status**: Complete

### Phase 8: UX Transparency
**Goal**: Users understand metrics
**Plans**: 2 plans
**Status**: Complete

</details>

<details>
<summary>v1.2 Technical SEO Fixes (Phases 9-12) - SHIPPED 2026-02-02</summary>

### Phase 9: Critical Errors
**Goal**: No 500 errors or 404s
**Plans**: 3 plans
**Status**: Complete

### Phase 10: Redirects & Meta
**Goal**: Clean redirects and titles
**Plans**: 2 plans
**Status**: Complete

### Phase 11: Indexability
**Goal**: All pages indexable
**Plans**: 2 plans
**Status**: Complete

### Phase 12: Internal Linking
**Goal**: No orphan pages
**Plans**: 2 plans
**Status**: Complete

</details>

<details>
<summary>v1.3 Match Page Refresh (Phases 13-16) - SHIPPED 2026-02-02</summary>

### Phase 13: Content Integration
**Goal**: LLM content displays on match pages
**Plans**: 4 plans
**Status**: Complete

### Phase 14: Mobile UX
**Goal**: Mobile-first navigation
**Plans**: 4 plans
**Status**: Complete

### Phase 15: Performance
**Goal**: Sub-500ms TTFB
**Plans**: 3 plans
**Status**: Complete

### Phase 16: AI Search
**Goal**: Optimized for AI crawlers
**Plans**: 2 plans
**Status**: Complete

</details>

<details>
<summary>v2.0 UI/UX Overhaul (Phases 17-23) - SHIPPED 2026-02-03</summary>

### Phase 17: Design System
**Goal**: Foundation with semantic tokens
**Plans**: 4 plans
**Status**: Complete

### Phase 18: Match Pages
**Goal**: Rebuilt match detail pages
**Plans**: 5 plans
**Status**: Complete

### Phase 19: Blog Pages
**Goal**: Readable blog layout
**Plans**: 4 plans
**Status**: Complete

### Phase 20: League Pages
**Goal**: Enhanced league hubs
**Plans**: 4 plans
**Status**: Complete

### Phase 21: Leaderboard
**Goal**: Time-filtered rankings
**Plans**: 3 plans
**Status**: Complete

### Phase 22: Navigation
**Goal**: Systematic internal linking
**Plans**: 5 plans
**Status**: Complete

### Phase 23: Performance
**Goal**: PPR streaming enabled
**Plans**: 3 plans
**Status**: Complete

</details>

<details>
<summary>v2.1 Match Page Simplification (Phases 24-25) - SHIPPED 2026-02-03</summary>

### Phase 24: Layout Simplification
**Goal**: Natural scrolling without tabs
**Plans**: 2 plans
**Status**: Complete

### Phase 25: Content Cleanup
**Goal**: Remove H2H and standings
**Plans**: 1 plan
**Status**: Complete

</details>

<details>
<summary>v2.2 Match Page Rewrite (Phases 26-30) - SHIPPED 2026-02-04</summary>

### Phase 26: Context Architecture
**Goal**: Single data provider
**Plans**: 3 plans
**Status**: Complete

### Phase 27: Hero Component
**Goal**: Score displays exactly once
**Plans**: 2 plans
**Status**: Complete

### Phase 28: State-Aware Content
**Goal**: Content adapts to match state
**Plans**: 4 plans
**Status**: Complete

### Phase 29: AI-Generated FAQ
**Goal**: FAQ with Schema.org markup
**Plans**: 3 plans
**Status**: Complete

### Phase 30: Cleanup
**Goal**: Remove deprecated components
**Plans**: 2 plans
**Status**: Complete

</details>

<details>
<summary>v2.3 Content Pipeline & SEO (Phases 31-36) - SHIPPED 2026-02-04</summary>

### Phase 31: Error Handling
**Goal**: Content generation throws errors
**Plans**: 3 plans
**Status**: Complete

### Phase 32: HTML Sanitization
**Goal**: No HTML in content
**Plans**: 2 plans
**Status**: Complete

### Phase 33: Pipeline Hardening
**Goal**: Circuit breaker and monitoring
**Plans**: 3 plans
**Status**: Complete

### Phase 34: SEO/GEO Optimization
**Goal**: Answer-first structure
**Plans**: 3 plans
**Status**: Complete

### Phase 35: Blog Generation
**Goal**: Aligned blog patterns
**Plans**: 2 plans
**Status**: Complete

### Phase 36: Validation
**Goal**: End-to-end testing
**Plans**: 1 plan
**Status**: Complete

</details>

<details>
<summary>v2.4 Synthetic.new Integration (Phases 37-39) - SHIPPED 2026-02-05</summary>

### Phase 37: Provider Infrastructure
**Goal**: Synthetic provider implemented
**Plans**: 3 plans
**Status**: Complete

### Phase 38: Model Configuration
**Goal**: 13 models registered
**Plans**: 2 plans
**Status**: Complete

### Phase 39: Testing & Validation
**Goal**: Models validated for production
**Plans**: 2 plans
**Status**: Complete

</details>

<details>
<summary>v2.5 Model Reliability & Dynamic Counts (Phases 40-43) - SHIPPED 2026-02-05</summary>

**Milestone Goal:** Make all models work reliably with model-specific prompts and Together.ai fallbacks, and display model counts dynamically everywhere.

#### Phase 40: Model-Specific Prompt Selection
**Goal**: Failing models receive appropriate prompts and timeouts for reliable JSON output
**Depends on**: Phase 39
**Requirements**: PRMT-01, PRMT-02, PRMT-03, PRMT-04, PRMT-05, PRMT-06, JSON-01, JSON-02, JSON-03, TIME-01, TIME-02, TIME-03, TIME-04
**Success Criteria** (what must be TRUE):
  1. GLM models return English responses after receiving English enforcement prompt
  2. Thinking models (DeepSeek R1, Qwen3-235B-Thinking) return valid JSON without thinking tags
  3. Kimi K2.5 completes predictions within 60s timeout without timing out
  4. DeepSeek V3.2 returns valid JSON that passes prediction parser
  5. Working models (29 Together AI models) maintain >95% success rate with fallback to base prompt
**Plans**: 2 plans

Plans:
- [x] 40-01-PLAN.md - Create prompt variant and response handler infrastructure
- [x] 40-02-PLAN.md - Integrate into providers and configure failing models

#### Phase 41: Together AI Fallbacks
**Goal**: Synthetic model failures automatically fall back to Together AI equivalents with cycle detection and cost tracking
**Depends on**: Phase 40
**Requirements**: FALL-01, FALL-02, FALL-03, FALL-04, FALL-05, FALL-06, CYCL-01, CYCL-02, CYCL-03, COST-01, COST-02, COST-03
**Success Criteria** (what must be TRUE):
  1. Synthetic model failures (Kimi K2, DeepSeek R1) automatically retry with Together AI equivalents
  2. Models without Together AI equivalents (GLM, MiniMax, Qwen3 Coder) fail without fallback
  3. Fallback loops prevented by startup validation (cycle detection, max depth 1)
  4. Admin dashboard displays fallback costs with warnings when >2x more expensive
  5. Prediction records track usedFallback boolean for internal transparency
**Plans**: 4 plans

Plans:
- [x] 41-01-PLAN.md - Add usedFallback column and startup validation
- [x] 41-02-PLAN.md - Implement callAPIWithFallback wrapper
- [x] 41-03-PLAN.md - Add fallback metrics to admin dashboard
- [x] 41-04-PLAN.md - Gap closure: add K2.5 mapping, correct criteria

#### Phase 42: Dynamic Model Counts
**Goal**: Model counts displayed dynamically throughout the application with single source of truth
**Depends on**: Phase 40 (independent, can run in parallel)
**Requirements**: DYNM-01, DYNM-02, DYNM-03, DYNM-04, DYNM-05, DYNM-06, DYNM-07, LEAD-01, LEAD-02, LEAD-03
**Success Criteria** (what must be TRUE):
  1. Homepage hero displays actual active model count (not hardcoded "35 models")
  2. Match page metadata reflects current model count in descriptions
  3. Leaderboard shows all active models without manual configuration
  4. Newly enabled models appear in leaderboard automatically after first prediction
  5. All pages show consistent model count (0 discrepancies across homepage, leaderboard, match pages)
**Plans**: 2 plans

Plans:
- [x] 42-01-PLAN.md - Create getActiveModelCount() and cache invalidation infrastructure
- [x] 42-02-PLAN.md - Replace all hardcoded "35 models" with dynamic counts

#### Phase 43: Testing & Validation
**Goal**: All 42 models validated with comprehensive integration tests and production monitoring
**Depends on**: Phase 41, Phase 42
**Requirements**: JSON-04
**Success Criteria** (what must be TRUE):
  1. Integration test suite validates JSON output for all 42 models
  2. 6 previously disabled Synthetic models re-enabled with >90% success rate
  3. Fallback frequency monitored and remains <5% of total predictions
  4. Production validation confirms no regressions in working models
**Plans**: 3 plans

Plans:
- [x] 43-01-PLAN.md - Set up Vitest framework and Zod validation schemas
- [x] 43-02-PLAN.md - Create integration tests for all 42 models
- [x] 43-03-PLAN.md - Add production fallback rate monitoring script

</details>

### v2.6 SEO/GEO Site Health (Phases 44-48)

**Milestone Goal:** Fix all 24 SEO/GEO issues identified by Ahrefs audit. Eliminate 404s, fix canonical URLs, clean sitemaps, resolve orphan pages, optimize meta tags, fix structured data, and remove broken hreflang — achieving Ahrefs site health score >90.

#### Phase 44: Foundation — Redirects, Canonicals & Index Pages
**Goal**: Fix critical SEO errors: remove cascading canonical from root layout, remove broken hreflang, create /models and /leagues index pages, fix www/protocol redirects
**Depends on**: Phase 43
**Requirements**: REDIR-01, REDIR-02, REDIR-03, REDIR-04, REDIR-05, INDEX-01, INDEX-02, INDEX-03, INDEX-04, I18N-01, I18N-02
**Success Criteria** (what must be TRUE):
  1. /models and /leagues return 200 with listing pages (not 404)
  2. Root layout does not set canonical URL or hreflang alternates
  3. Match pages at /leagues/{slug}/{match} have self-referential canonical URLs
  4. www.kroam.xyz and http://kroam.xyz redirect with 301 (not 302)
  5. No redirect chains exist (single-hop from any entry point)
**Plans**: 3 plans

Plans:
- [ ] 44-01-PLAN.md — Remove cascading canonical and hreflang from root layout, fix match page canonicals
- [ ] 44-02-PLAN.md — Rewrite middleware for www/http redirects, 410 Gone, league slug single-hop
- [ ] 44-03-PLAN.md — Create /leagues and /models index pages with ISR and metadata

#### Phase 45: Sitemap & Internal Linking
**Goal**: Clean sitemaps, fix orphan pages, add cross-linking widgets between models/leagues/matches
**Depends on**: Phase 44
**Requirements**: SMAP-01, SMAP-02, SMAP-03, SMAP-04, LINK-01, LINK-02, LINK-03, LINK-04, LINK-05, REDIR-06
**Success Criteria** (what must be TRUE):
  1. Sitemap index file exists at /sitemap.xml referencing all sub-sitemaps
  2. No /matches/UUID URLs appear in any sitemap
  3. All league and model pages appear in sitemap
  4. Zero orphan model pages (all have 3+ internal links)
  5. Internal links use short-form league slugs (no links triggering 308 redirects)
**Plans**: TBD

#### Phase 46: Content Tags & Meta Optimization
**Goal**: Fix H1 tags, meta descriptions, title lengths, and Open Graph tags across all pages
**Depends on**: Phase 44
**Requirements**: CTAG-01, CTAG-02, CTAG-03, CTAG-04, CTAG-05, CTAG-06, INDEX-05, INDEX-06
**Success Criteria** (what must be TRUE):
  1. All match pages have H1 tag "{HomeTeam} vs {AwayTeam}"
  2. Zero meta descriptions shorter than 100 or longer than 160 characters
  3. Zero title tags longer than 60 characters
  4. All indexable pages have complete OG tags (title, description, image, url)
  5. /leagues and /models index pages have CollectionPage structured data
**Plans**: TBD

#### Phase 47: Structured Data Validation
**Goal**: Deduplicate schemas, fix SportsEvent/Article/FAQ validation errors
**Depends on**: Phase 46
**Requirements**: SCHEMA-01, SCHEMA-02, SCHEMA-03, SCHEMA-04, SCHEMA-05
**Success Criteria** (what must be TRUE):
  1. No duplicate Organization or WebSite schemas on any page
  2. SportsEvent schema passes Google Rich Results Test
  3. Article and FAQPage schemas pass validation
  4. BreadcrumbList schema valid on all page types
  5. Schema.org validation errors reduced from 4365 to <50
**Plans**: TBD

#### Phase 48: Performance & Verification
**Goal**: Optimize TTFB for slow pages, verify all fixes with Ahrefs re-audit
**Depends on**: Phase 47
**Requirements**: PERF-01, PERF-02
**Success Criteria** (what must be TRUE):
  1. Pages with TTFB >2s are investigated and improved where possible
  2. /matches/UUID redirect responds within 500ms
  3. Re-audit with Ahrefs shows site health score >90
  4. Zero critical or high-severity SEO errors remaining
**Plans**: TBD

## Progress

**Execution Order:**
Phases execute in numeric order: 44 -> 45 -> 46 -> 47 -> 48
(Phase 45 and 46 can run in parallel after Phase 44)

| Phase | Milestone | Plans Complete | Status | Completed |
|-------|-----------|----------------|--------|-----------|
| 1. Database Resilience | v1.0 | 4/4 | Complete | 2026-02-01 |
| 2. Pipeline Reliability | v1.0 | 4/4 | Complete | 2026-02-01 |
| 3. Scoring Accuracy | v1.0 | 3/3 | Complete | 2026-02-01 |
| 4. Frontend Stability | v1.0 | 3/3 | Complete | 2026-02-01 |
| 5. Stats Correction | v1.1 | 3/3 | Complete | 2026-02-02 |
| 6. Historical Migration | v1.1 | 3/3 | Complete | 2026-02-02 |
| 7. SEO Structured Data | v1.1 | 2/2 | Complete | 2026-02-02 |
| 8. UX Transparency | v1.1 | 2/2 | Complete | 2026-02-02 |
| 9. Critical Errors | v1.2 | 3/3 | Complete | 2026-02-02 |
| 10. Redirects & Meta | v1.2 | 2/2 | Complete | 2026-02-02 |
| 11. Indexability | v1.2 | 2/2 | Complete | 2026-02-02 |
| 12. Internal Linking | v1.2 | 2/2 | Complete | 2026-02-02 |
| 13. Content Integration | v1.3 | 4/4 | Complete | 2026-02-02 |
| 14. Mobile UX | v1.3 | 4/4 | Complete | 2026-02-02 |
| 15. Performance | v1.3 | 3/3 | Complete | 2026-02-02 |
| 16. AI Search | v1.3 | 2/2 | Complete | 2026-02-02 |
| 17. Design System | v2.0 | 4/4 | Complete | 2026-02-03 |
| 18. Match Pages | v2.0 | 5/5 | Complete | 2026-02-03 |
| 19. Blog Pages | v2.0 | 4/4 | Complete | 2026-02-03 |
| 20. League Pages | v2.0 | 4/4 | Complete | 2026-02-03 |
| 21. Leaderboard | v2.0 | 3/3 | Complete | 2026-02-03 |
| 22. Navigation | v2.0 | 5/5 | Complete | 2026-02-03 |
| 23. Performance | v2.0 | 3/3 | Complete | 2026-02-03 |
| 24. Layout Simplification | v2.1 | 2/2 | Complete | 2026-02-03 |
| 25. Content Cleanup | v2.1 | 1/1 | Complete | 2026-02-03 |
| 26. Context Architecture | v2.2 | 3/3 | Complete | 2026-02-04 |
| 27. Hero Component | v2.2 | 2/2 | Complete | 2026-02-04 |
| 28. State-Aware Content | v2.2 | 4/4 | Complete | 2026-02-04 |
| 29. AI-Generated FAQ | v2.2 | 3/3 | Complete | 2026-02-04 |
| 30. Cleanup | v2.2 | 2/2 | Complete | 2026-02-04 |
| 31. Error Handling | v2.3 | 3/3 | Complete | 2026-02-04 |
| 32. HTML Sanitization | v2.3 | 2/2 | Complete | 2026-02-04 |
| 33. Pipeline Hardening | v2.3 | 3/3 | Complete | 2026-02-04 |
| 34. SEO/GEO Optimization | v2.3 | 3/3 | Complete | 2026-02-04 |
| 35. Blog Generation | v2.3 | 2/2 | Complete | 2026-02-04 |
| 36. Validation | v2.3 | 1/1 | Complete | 2026-02-04 |
| 37. Provider Infrastructure | v2.4 | 3/3 | Complete | 2026-02-05 |
| 38. Model Configuration | v2.4 | 2/2 | Complete | 2026-02-05 |
| 39. Testing & Validation | v2.4 | 2/2 | Complete | 2026-02-05 |
| 40. Model-Specific Prompt Selection | v2.5 | 2/2 | Complete | 2026-02-05 |
| 41. Together AI Fallbacks | v2.5 | 4/4 | Complete | 2026-02-05 |
| 42. Dynamic Model Counts | v2.5 | 2/2 | Complete | 2026-02-05 |
| 43. Testing & Validation | v2.5 | 3/3 | Complete | 2026-02-05 |
| 44. Foundation — Redirects, Canonicals & Index Pages | v2.6 | 0/3 | Planned | - |
| 45. Sitemap & Internal Linking | v2.6 | 0/TBD | Not started | - |
| 46. Content Tags & Meta Optimization | v2.6 | 0/TBD | Not started | - |
| 47. Structured Data Validation | v2.6 | 0/TBD | Not started | - |
| 48. Performance & Verification | v2.6 | 0/TBD | Not started | - |

---
*Last updated: 2026-02-05 after v2.6 roadmap created*
